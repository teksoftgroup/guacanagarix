---
interface Props {
  images: string[];          // full URLs or /public paths
  title?: string;
  subtitle?: string;
  ctaText?: string;
  ctaHref?: string;
  heightClass?: string;      // e.g. "h-160" (default), "h-[70vh]" etc.
}

const {
  images = [],
  title = "Join Us",
  subtitle = "Provident cupiditate voluptatem et in. Quaerat fugiat ut assumenda excepturi exercitationem quasi.",
  ctaText = "Get Started",
  ctaHref = "#",
  heightClass = "h-160",
} = Astro.props;

// Guard
const slides = images.length ? images : [  
  "/public/images/building_3.jpg",
  "/public/images/ambulance.jpg",
  "/public/images/building_2.jpg",
  "/public/images/ride_sharing.jpg",
];
---

<div class={`relative hero ${heightClass} overflow-hidden`}>
  <!-- Carousel background -->
  <div class="absolute inset-0">
    <div id="hero-carousel" class="carousel w-full h-full">
      {slides.map((src, i) => {
        const id = `slide${i + 1}`;
        const prev = `slide${((i - 1 + slides.length) % slides.length) + 1}`;
        const next = `slide${((i + 1) % slides.length) + 1}`;
        return (
          <div id={id} class="carousel-item relative w-full">
            <img src={src} alt="" class="w-full h-full object-cover blur-xs" loading={i === 0 ? "eager" : "lazy"} />
            <!-- Controls for this slide -->
            <div class="absolute flex justify-between transform -translate-y-1/2 left-3 right-3 top-1/2">
              <a href={`#${prev}`} class="btn btn-circle">❮</a>
              <a href={`#${next}`} class="btn btn-circle">❯</a>
            </div>
          </div>
        );
      })}
    </div>
  </div>

  <!-- Overlay + content -->
  <div class="hero-overlay bg-black/40"></div>
  <div class="hero-content text-neutral-content text-center">
    <div class="max-w-md">
      <h1 class="mb-5 text-5xl font-bold text-[#af141a] text-shadow-gray-900">{title}</h1>
      <p class="mb-5">{subtitle}</p>
      <a href={ctaHref} class="rounded-md bg-[#00336d] px-3.5 py-2.5 text-sm font-semibold text-white shadow-xs hover:bg-blue-500 focus-visible:outline-2 focus-visible:outline-offset-2 focus-visible:outline-blue-600 dark:bg-blue-500 dark:shadow-none dark:hover:bg-blue-400 dark:focus-visible:outline-blue-500">{ctaText}</a>
    </div>
  </div>
</div>
